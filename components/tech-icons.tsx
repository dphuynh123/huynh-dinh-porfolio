import type React from "react"
import { cn } from "@/lib/utils"

interface TechIconProps {
  name: string
  className?: string
}

const techIcons: Record<string, React.FC<{ className?: string }>> = {
  "Java Spring Boot": ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#6DB33F"
        d="M5.85 25.904c-.238.238-.238.476 0 .714.238.238.476.238.714 0 2.618-2.142 5.474-3.808 8.806-4.998 3.332-1.19 6.426-1.784 9.282-1.784.476 0 .714-.238.714-.714s-.238-.714-.714-.714c-3.094 0-6.426.594-9.996 1.784-3.57 1.428-6.664 3.094-8.806 5.712z"
      />
      <path
        fill="#6DB33F"
        d="M26.89 7.786c-1.19-1.904-3.094-3.332-5.474-4.284-2.38-.952-5.236-1.428-8.33-1.428-2.618 0-5.236.476-7.854 1.428l-.238.238v.714l.238.238c2.38.714 4.046 1.904 4.998 3.57.952 1.666 1.19 3.808.714 6.426-.238.952-.714 2.38-1.428 4.284-.714 1.904-1.19 3.094-1.428 3.57-.238.714-.476 1.428-.714 2.142-.238.714-.238 1.19 0 1.428.238.238.476.238.714.238.476 0 1.428-.714 2.856-2.142 1.428-1.428 2.856-3.094 4.284-5.236 1.428-2.142 2.618-4.046 3.57-5.95.952-1.904 1.428-3.332 1.428-4.284 0-.476.238-.714.714-.714.476 0 .952.238 1.428.714.476.476.714.952.714 1.428 0 1.19-.476 2.856-1.428 4.998-.952 2.142-2.142 4.284-3.57 6.426-1.428 2.142-2.856 3.808-4.284 5.236-.238.238-.476.476-.714.714.238 0 .714-.238 1.428-.714.714-.476 1.666-1.19 2.856-2.142 1.19-.952 2.38-2.142 3.57-3.57 1.19-1.428 2.142-2.856 2.856-4.284.714-1.428 1.19-2.618 1.428-3.57.238-.952.238-2.142 0-3.57-.238-1.428-.952-2.618-2.142-3.57z"
      />
    </svg>
  ),
  MySQL: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#00758F"
        d="M28.425 23.548c-1.295-.053-2.306.088-3.158.45-.243.103-.631.107-.668.419.133.14.154.348.26.518.203.324.547.758.855.983.336.246.68.507 1.034.724 .631.387 1.336.608 1.945.995.36.228.717.518 1.073.764.177.122.296.312.518.392v-.045c-.119-.151-.15-.359-.26-.536-.162-.162-.324-.305-.487-.467-.476-.632-1.066-1.188-1.705-1.647-.51-.366-1.652-.861-1.864-1.459l-.035-.036c.362-.04.787-.169 1.131-.273.567-.152 1.074-.116 1.659-.269.267-.071.534-.152.801-.232v-.143c-.3-.307-.513-.716-.832-.996-.834-.732-1.745-1.449-2.681-2.062-.52-.34-1.163-.561-1.719-.844-.197-.1-.542-.152-.667-.313-.305-.383-.47-.87-.701-1.309-.485-.92-.962-1.926-1.382-2.9-.287-.665-.474-1.321-.832-1.936-.17-.292-1.694-2.794-1.179-2.794.373.122.878.178 1.174.328 .785.4 1.482.778 2.16 1.309.327.256.658.749 1.082.872h.479c.748.172 1.585.053 2.287.278 1.24.397 2.354.977 3.369 1.602 3.093 1.904 5.652 4.612 7.374 7.859.278.523.398 1.023.624 1.576.454 1.117 1.028 2.267 1.482 3.348.454 1.082 .895 2.173 1.545 3.082.342.477 1.664.733 2.265.987.422.178.107.152 1.47.544.338.097.655.321.973.469v-.179c-.227-.229-.291-.534-.469-.804-.178-.269-.463-.478-.692-.696z"
      />
      <path
        fill="#F29111"
        d="M12.272 10.74c-.352-.008-.6.04-.87.107v.053h.036c.169.348.467.574.7.864.178.348.339.697.517 1.045l.036-.036c.32-.225.467-.585.467-1.116-.13-.139-.148-.312-.25-.467-.11-.169-.323-.262-.468-.432z"
      />
    </svg>
  ),
  ECS: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#F7981D"
        d="M16 2L4 8v16l12 6 12-6V8L16 2zm0 2.18l9.5 4.75L16 13.68l-9.5-4.75L16 4.18zM6 9.93l9 4.5v11.14l-9-4.5V9.93zm20 11.14l-9 4.5V14.43l9-4.5v11.14z"
      />
    </svg>
  ),
  Lambda: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path fill="#F7981D" d="M16 4l-2.5 7h-5.5l4.5 3.5-1.7 5.5 4.7-3.4 4.7 3.4-1.7-5.5 4.5-3.5h-5.5L16 4z" />
      <path fill="#F7981D" d="M4 8v16l12 6 12-6V8L16 2 4 8zm24 14.5l-12 6-12-6v-13l12-6 12 6v13z" />
    </svg>
  ),
  DynamoDB: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#4053D6"
        d="M16.043 1c-3.376 0-6.118.697-6.118 1.557v6.178c0 .86 2.742 1.557 6.118 1.557 3.375 0 6.117-.697 6.117-1.557V2.557c0-.86-2.742-1.557-6.117-1.557z"
      />
      <path
        fill="#5163D6"
        d="M16.043 14.027c-3.376 0-6.118-.697-6.118-1.557v6.06c0 .86 2.742 1.557 6.118 1.557 3.375 0 6.117-.697 6.117-1.557v-6.06c0 .86-2.742 1.557-6.117 1.557z"
      />
      <path
        fill="#5163D6"
        d="M16.043 24.557c-3.376 0-6.118-.697-6.118-1.557v6.443c0 .86 2.742 1.557 6.118 1.557 3.375 0 6.117-.697 6.117-1.557V23c0 .86-2.742 1.557-6.117 1.557z"
      />
    </svg>
  ),
  CloudFormation: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#F7981D"
        d="M16 4L6 9v14l10 5 10-5V9l-10-5zm0 2l8 4-8 4-8-4 8-4zM8 10.5l7 3.5v9l-7-3.5v-9zm16 0v9l-7 3.5v-9l7-3.5z"
      />
    </svg>
  ),
  "AWS Step Functions": ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#E7157B"
        d="M16 4l-10 5v14l10 5 10-5V9L16 4zm-2 18l-4-2v-8l4 2v8zm0-10l-4-2 4-2 4 2-4 2zm6 8l-4 2v-8l4-2v8z"
      />
    </svg>
  ),
  Serverless: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path fill="#FD5750" d="M4 22h8l-2 4H2l2-4zm6-6h10l-2 4H8l2-4zm8-6h12l-2 4H16l2-4z" />
    </svg>
  ),
  Datadog: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#4D4D4D"
        d="M26 8H6a2 2 0 00-2 2v12a2 2 0 002 2h20a2 2 0 002-2V10a2 2 0 00-2-2zm-7 10h-2v2h-2v-2h-2v-2h2v-2h2v2z"
      />
    </svg>
  ),
  EC2: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#F7981D"
        d="M16 4L6 9v14l10 5 10-5V9l-10-5zm0 4a8 8 0 110 16 8 8 0 010-16zm0 2a6 6 0 100 12 6 6 0 000-12z"
      />
    </svg>
  ),
  NodeJS: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#83CD29"
        d="M15.9 4c-4.2 0-3.9 1.8-3.9 1.8v1.9h4v.6H8.5S4 7.9 4 12.2s3.9 4.1 3.9 4.1h2.3v-2c0-1.9 1.6-3.5 3.5-3.5h4.6c1.7 0 3-.9 3-2.6V6c0-1.6-1.4-2-3.4-2zm-2.3 1.2c.5 0 .9.4.9.9s-.4.9-.9.9-.9-.4-.9-.9.4-.9.9-.9z"
      />
      <path
        fill="#FFC331"
        d="M16.1 28c4.2 0 3.9-1.8 3.9-1.8v-1.9h-4v-.6h7.5s4.5.4 4.5-3.9-3.9-4.1-3.9-4.1h-2.3v2c0 1.9-1.6 3.5-3.5 3.5h-4.6c-1.7 0-3 .9-3 2.6V26c0 1.6 1.4 2 3.4 2zm2.3-1.2c-.5 0-.9-.4-.9-.9s.4-.9.9-.9.9.4.9.9-.4.9-.9.9z"
      />
    </svg>
  ),
  ".NET Core": ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path fill="#512BD4" d="M16 2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14S23.732 2 16 2z" />
      <path
        fill="#FFFFFF"
        d="M9.47 20.674a.927.927 0 01-.68-.281.927.927 0 01-.281-.68c0-.264.094-.49.281-.677a.927.927 0 01.68-.281c.264 0 .49.094.677.281.188.188.281.413.281.677 0 .264-.093.493-.281.68a.92.92 0 01-.677.281zm10.05-.16h-1.504l-4.453-7.082a3.348 3.348 0 01-.293-.563h-.04c.054.388.08.957.08 1.707v5.938h-1.305V11.58h1.598l4.347 6.95c.19.305.32.52.387.644h.027c-.067-.44-.1-1.003-.1-1.69V11.58h1.318v8.934h-.062zm4.48.16c-1.092 0-1.96-.34-2.603-1.018-.644-.678-.966-1.598-.966-2.76 0-1.21.305-2.16.914-2.848.61-.69 1.442-1.034 2.498-1.034.986 0 1.762.293 2.326.878.564.586.846 1.38.846 2.384v.826h-5.213c.02.773.228 1.368.625 1.785.396.417.952.625 1.666.625.478 0 .916-.044 1.312-.132.396-.088.82-.231 1.272-.43v1.152c-.425.19-.85.327-1.272.41-.423.08-.916.121-1.48.121l.075.04zm-.21-6.535c-.545 0-.983.175-1.313.524-.33.35-.527.84-.59 1.473h3.614c-.014-.66-.17-1.158-.469-1.496-.298-.334-.72-.501-1.265-.501h.023z"
      />
    </svg>
  ),
  Python: ({ className }) => (
    <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
      <path
        fill="#3776AB"
        d="M15.9 4c-4.2 0-3.9 1.8-3.9 1.8v1.9h4v.6H8.5S4 7.9 4 12.2s3.9 4.1 3.9 4.1h2.3v-2c0-1.9 1.6-3.5 3.5-3.5h4.6c1.7 0 3-.9 3-2.6V6c0-1.6-1.4-2-3.4-2zm-2.3 1.2c.5 0 .9.4.9.9s-.4.9-.9.9-.9-.4-.9-.9.4-.9.9-.9z"
      />
      <path
        fill="#FFC331"
        d="M16.1 28c4.2 0 3.9-1.8 3.9-1.8v-1.9h-4v-.6h7.5s4.5.4 4.5-3.9-3.9-4.1-3.9-4.1h-2.3v2c0 1.9-1.6 3.5-3.5 3.5h-4.6c-1.7 0-3 .9-3 2.6V26c0 1.6 1.4 2 3.4 2zm2.3-1.2c-.5 0-.9-.4-.9-.9s.4-.9.9-.9.9.4.9.9-.4.9-.9.9z"
      />
    </svg>
  ),
  "N8N": ({ className }) => (
    <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="N8n--Streamline-Simple-Icons" height="24" width="24">
      
      <path d="M21.4737 5.6842c-1.1772 0 -2.1663 0.8051 -2.4468 1.8947h-2.8955c-1.235 0 -2.289 0.893 -2.492 2.111l-0.1038 0.623a1.263 1.263 0 0 1 -1.246 1.0555H11.289c-0.2805 -1.0896 -1.2696 -1.8947 -2.4468 -1.8947s-2.1663 0.8051 -2.4467 1.8947H4.973c-0.2805 -1.0896 -1.2696 -1.8947 -2.4468 -1.8947C1.1311 9.4737 0 10.6047 0 12s1.131 2.5263 2.5263 2.5263c1.1772 0 2.1663 -0.8051 2.4468 -1.8947h1.4223c0.2804 1.0896 1.2696 1.8947 2.4467 1.8947 1.1772 0 2.1663 -0.8051 2.4468 -1.8947h1.0008a1.263 1.263 0 0 1 1.2459 1.0555l0.1038 0.623c0.203 1.218 1.257 2.111 2.492 2.111h0.3692c0.2804 1.0895 1.2696 1.8947 2.4468 1.8947 1.3952 0 2.5263 -1.131 2.5263 -2.5263s-1.131 -2.5263 -2.5263 -2.5263c-1.1772 0 -2.1664 0.805 -2.4468 1.8947h-0.3692a1.263 1.263 0 0 1 -1.246 -1.0555l-0.1037 -0.623A2.52 2.52 0 0 0 13.9607 12a2.52 2.52 0 0 0 0.821 -1.4794l0.1038 -0.623a1.263 1.263 0 0 1 1.2459 -1.0555h2.8955c0.2805 1.0896 1.2696 1.8947 2.4468 1.8947 1.3952 0 2.5263 -1.131 2.5263 -2.5263s-1.131 -2.5263 -2.5263 -2.5263m0 1.2632a1.263 1.263 0 0 1 1.2631 1.2631 1.263 1.263 0 0 1 -1.2631 1.2632 1.263 1.263 0 0 1 -1.2632 -1.2632 1.263 1.263 0 0 1 1.2632 -1.2631M2.5263 10.7368A1.263 1.263 0 0 1 3.7895 12a1.263 1.263 0 0 1 -1.2632 1.2632A1.263 1.263 0 0 1 1.2632 12a1.263 1.263 0 0 1 1.2631 -1.2632m6.3158 0A1.263 1.263 0 0 1 10.1053 12a1.263 1.263 0 0 1 -1.2632 1.2632A1.263 1.263 0 0 1 7.579 12a1.263 1.263 0 0 1 1.2632 -1.2632m10.1053 3.7895a1.263 1.263 0 0 1 1.2631 1.2632 1.263 1.263 0 0 1 -1.2631 1.2631 1.263 1.263 0 0 1 -1.2632 -1.2631 1.263 1.263 0 0 1 1.2632 -1.2632" fill="#000000" stroke-width="1"></path>
    </svg>
  )
}

// Default icon for technologies not in the map
const DefaultTechIcon: React.FC<{ className?: string }> = ({ className }) => (
  <svg viewBox="0 0 32 32" className={cn("w-5 h-5", className)}>
    <rect x="6" y="6" width="20" height="20" rx="3" fill="currentColor" opacity="0.3" />
    <path d="M16 11v10M11 16h10" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
  </svg>
)

export function TechIcon({ name, className }: TechIconProps) {
  const Icon = techIcons[name] || DefaultTechIcon
  return (
    <div className="flex items-center gap-1.5 group/tech">
      <Icon className={className} />
    </div>
  )
}

export function TechBadge({ name }: { name: string }) {
  return (
    <div className="flex items-center gap-1.5 px-2.5 py-1.5 rounded-md bg-primary/10 hover:bg-primary/20 transition-colors group/badge">
      <TechIcon name={name} />
      <span className="text-xs font-mono text-primary">{name}</span>
    </div>
  )
}
